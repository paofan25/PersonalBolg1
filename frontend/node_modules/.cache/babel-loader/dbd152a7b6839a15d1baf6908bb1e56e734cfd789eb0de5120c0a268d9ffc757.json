{"ast":null,"code":"import { getToken, setToken, removeToken } from '@/utils/auth';\nimport { login, logout, getInfo, register, updateProfile } from '@/api/user';\nimport axios from 'axios';\n\n// 初始状态\nconst state = {\n  token: getToken(),\n  user: null,\n  loading: false,\n  error: null\n};\n\n// getters\nconst getters = {\n  isLoggedIn: state => !!state.token,\n  currentUser: state => state.user,\n  isLoading: state => state.loading,\n  authError: state => state.error\n};\n\n// mutations\nconst mutations = {\n  SET_TOKEN(state, token) {\n    state.token = token;\n  },\n  SET_USER(state, user) {\n    state.user = user;\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR(state, error) {\n    state.error = error;\n  },\n  RESET_STATE(state) {\n    state.token = '';\n    state.user = null;\n    state.error = null;\n    removeToken();\n  }\n};\n\n// actions\nconst actions = {\n  // 用户登录\n  async login({\n    commit\n  }, {\n    email,\n    password\n  }) {\n    try {\n      commit('SET_LOADING', true);\n      commit('SET_ERROR', null);\n      console.log('开始登录请求:', {\n        email\n      });\n      const response = await login({\n        email: email.trim(),\n        password\n      });\n      console.log('登录响应:', response);\n      const {\n        data\n      } = response.data;\n      console.log('登录数据:', data);\n      if (data && data.token) {\n        console.log('设置token:', data.token);\n        // 先保存token到localStorage\n        setToken(data.token);\n        // 再更新store\n        commit('SET_TOKEN', data.token);\n\n        // 获取用户信息前确认token已保存\n        const savedToken = getToken();\n        console.log('已保存的token:', savedToken);\n        if (savedToken) {\n          // 获取用户信息\n          console.log('开始获取用户信息');\n          try {\n            const userResponse = await getInfo();\n            console.log('用户信息响应:', userResponse);\n            const userData = userResponse.data.data;\n            commit('SET_USER', userData);\n\n            // 跳转到个人中心页面\n            return {\n              success: true,\n              data,\n              redirectTo: '/profile'\n            };\n          } catch (error) {\n            console.error('获取用户信息失败:', error);\n            // 即使获取用户信息失败，登录也算成功\n            return {\n              success: true,\n              data,\n              redirectTo: '/profile',\n              infoError: error.message\n            };\n          }\n        } else {\n          throw new Error('token保存失败');\n        }\n      } else {\n        throw new Error('登录响应中没有token');\n      }\n    } catch (error) {\n      console.error('登录错误:', error);\n      const message = error.response?.data?.message || error.message || '登录失败';\n      commit('SET_ERROR', message);\n      throw new Error(message);\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  // 用户注册\n  async register({\n    commit\n  }, userData) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    try {\n      console.log('注册请求数据:', userData);\n      const response = await axios.post('/auth/register', userData);\n      console.log('注册响应:', response.data);\n\n      // 检查响应中是否有token\n      if (response.data && response.data.token) {\n        const token = response.data.token;\n        localStorage.setItem('token', token);\n        commit('SET_TOKEN', token);\n\n        // 获取用户信息\n        try {\n          const userResponse = await axios.get('/auth/me', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          console.log('获取用户信息成功:', userResponse.data);\n          commit('SET_USER', userResponse.data);\n        } catch (userError) {\n          console.error('获取用户信息失败:', userError);\n          // 创建基础用户信息，确保应用不会崩溃\n          commit('SET_USER', {\n            username: userData.username,\n            email: userData.email,\n            id: 'temp-id'\n          });\n        }\n        commit('SET_LOADING', false);\n        return {\n          success: true,\n          redirectTo: '/profile'\n        };\n      } else {\n        throw new Error('注册响应中没有token');\n      }\n    } catch (error) {\n      console.error('注册失败:', error);\n      commit('SET_LOADING', false);\n      commit('SET_ERROR', error.response?.data?.message || '注册失败，请稍后重试');\n      throw error;\n    }\n  },\n  // 获取用户信息\n  async getInfo({\n    commit\n  }) {\n    try {\n      commit('SET_LOADING', true);\n      console.log('获取用户信息');\n      const response = await getInfo();\n      console.log('用户信息响应:', response);\n      if (response.data && response.data.data) {\n        const userData = response.data.data;\n        commit('SET_USER', userData);\n        return userData;\n      } else {\n        throw new Error('获取用户信息失败: 响应数据格式不正确');\n      }\n    } catch (error) {\n      console.error('获取用户信息错误:', error);\n      commit('SET_ERROR', error.message || '获取用户信息失败');\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  // 更新用户资料\n  async updateProfile({\n    commit\n  }, profileData) {\n    try {\n      commit('SET_LOADING', true);\n      const response = await updateProfile(profileData);\n      console.log('更新用户资料响应:', response);\n      if (response.data && response.data.data) {\n        const userData = response.data.data;\n        commit('SET_USER', userData);\n        return userData;\n      } else {\n        throw new Error('更新用户资料失败: 响应数据格式不正确');\n      }\n    } catch (error) {\n      console.error('更新用户资料错误:', error);\n      commit('SET_ERROR', error.message || '更新用户资料失败');\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  // 用户登出\n  async logout({\n    commit\n  }) {\n    try {\n      await logout();\n      removeToken();\n      commit('RESET_STATE');\n    } catch (error) {\n      console.error('登出失败:', error);\n      // 即使请求失败，也清除本地状态\n      removeToken();\n      commit('RESET_STATE');\n      throw error;\n    }\n  },\n  // 重置 Token\n  resetToken({\n    commit\n  }) {\n    removeToken();\n    commit('RESET_STATE');\n  },\n  // 初始化认证状态 - 在应用程序启动时调用\n  async initAuth({\n    commit,\n    dispatch\n  }) {\n    const token = getToken();\n    if (token) {\n      commit('SET_TOKEN', token);\n      try {\n        await dispatch('getInfo');\n      } catch (error) {\n        console.error('初始化用户信息失败:', error);\n        // 如果获取用户信息失败，清除token\n        dispatch('resetToken');\n      }\n    }\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};","map":{"version":3,"names":["getToken","setToken","removeToken","login","logout","getInfo","register","updateProfile","axios","state","token","user","loading","error","getters","isLoggedIn","currentUser","isLoading","authError","mutations","SET_TOKEN","SET_USER","SET_LOADING","SET_ERROR","RESET_STATE","actions","commit","email","password","console","log","response","trim","data","savedToken","userResponse","userData","success","redirectTo","infoError","message","Error","post","localStorage","setItem","get","headers","Authorization","userError","username","id","profileData","resetToken","initAuth","dispatch","namespaced"],"sources":["E:/code/PersonalBolg1/frontend/src/store/modules/auth.js"],"sourcesContent":["import { getToken, setToken, removeToken } from '@/utils/auth'\nimport { login, logout, getInfo, register, updateProfile } from '@/api/user'\nimport axios from 'axios'\n\n// 初始状态\nconst state = {\n  token: getToken(),\n  user: null,\n  loading: false,\n  error: null\n}\n\n// getters\nconst getters = {\n  isLoggedIn: state => !!state.token,\n  currentUser: state => state.user,\n  isLoading: state => state.loading,\n  authError: state => state.error\n}\n\n// mutations\nconst mutations = {\n  SET_TOKEN(state, token) {\n    state.token = token\n  },\n  SET_USER(state, user) {\n    state.user = user\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading\n  },\n  SET_ERROR(state, error) {\n    state.error = error\n  },\n  RESET_STATE(state) {\n    state.token = ''\n    state.user = null\n    state.error = null\n    removeToken()\n  }\n}\n\n// actions\nconst actions = {\n  // 用户登录\n  async login({ commit }, { email, password }) {\n    try {\n      commit('SET_LOADING', true)\n      commit('SET_ERROR', null)\n\n      console.log('开始登录请求:', { email })\n      const response = await login({ email: email.trim(), password })\n      console.log('登录响应:', response)\n\n      const { data } = response.data\n      console.log('登录数据:', data)\n\n      if (data && data.token) {\n        console.log('设置token:', data.token)\n        // 先保存token到localStorage\n        setToken(data.token)\n        // 再更新store\n        commit('SET_TOKEN', data.token)\n\n        // 获取用户信息前确认token已保存\n        const savedToken = getToken()\n        console.log('已保存的token:', savedToken)\n\n        if (savedToken) {\n          // 获取用户信息\n          console.log('开始获取用户信息')\n          try {\n            const userResponse = await getInfo()\n            console.log('用户信息响应:', userResponse)\n            const userData = userResponse.data.data\n            commit('SET_USER', userData)\n\n            // 跳转到个人中心页面\n            return {\n              success: true,\n              data,\n              redirectTo: '/profile'\n            }\n          } catch (error) {\n            console.error('获取用户信息失败:', error)\n            // 即使获取用户信息失败，登录也算成功\n            return {\n              success: true,\n              data,\n              redirectTo: '/profile',\n              infoError: error.message\n            }\n          }\n        } else {\n          throw new Error('token保存失败')\n        }\n      } else {\n        throw new Error('登录响应中没有token')\n      }\n    } catch (error) {\n      console.error('登录错误:', error)\n      const message = error.response?.data?.message || error.message || '登录失败'\n      commit('SET_ERROR', message)\n      throw new Error(message)\n    } finally {\n      commit('SET_LOADING', false)\n    }\n  },\n\n  // 用户注册\n  async register({ commit }, userData) {\n    commit('SET_LOADING', true)\n    commit('SET_ERROR', null)\n\n    try {\n      console.log('注册请求数据:', userData)\n      const response = await axios.post('/auth/register', userData)\n      console.log('注册响应:', response.data)\n\n      // 检查响应中是否有token\n      if (response.data && response.data.token) {\n        const token = response.data.token\n        localStorage.setItem('token', token)\n        commit('SET_TOKEN', token)\n\n        // 获取用户信息\n        try {\n          const userResponse = await axios.get('/auth/me', {\n            headers: { Authorization: `Bearer ${token}` }\n          })\n          console.log('获取用户信息成功:', userResponse.data)\n          commit('SET_USER', userResponse.data)\n        } catch (userError) {\n          console.error('获取用户信息失败:', userError)\n          // 创建基础用户信息，确保应用不会崩溃\n          commit('SET_USER', {\n            username: userData.username,\n            email: userData.email,\n            id: 'temp-id'\n          })\n        }\n\n        commit('SET_LOADING', false)\n        return { success: true, redirectTo: '/profile' }\n      } else {\n        throw new Error('注册响应中没有token')\n      }\n    } catch (error) {\n      console.error('注册失败:', error)\n      commit('SET_LOADING', false)\n      commit('SET_ERROR', error.response?.data?.message || '注册失败，请稍后重试')\n      throw error\n    }\n  },\n\n  // 获取用户信息\n  async getInfo({ commit }) {\n    try {\n      commit('SET_LOADING', true)\n      console.log('获取用户信息')\n      const response = await getInfo()\n      console.log('用户信息响应:', response)\n      if (response.data && response.data.data) {\n        const userData = response.data.data\n        commit('SET_USER', userData)\n        return userData\n      } else {\n        throw new Error('获取用户信息失败: 响应数据格式不正确')\n      }\n    } catch (error) {\n      console.error('获取用户信息错误:', error)\n      commit('SET_ERROR', error.message || '获取用户信息失败')\n      throw error\n    } finally {\n      commit('SET_LOADING', false)\n    }\n  },\n\n  // 更新用户资料\n  async updateProfile({ commit }, profileData) {\n    try {\n      commit('SET_LOADING', true)\n      const response = await updateProfile(profileData)\n      console.log('更新用户资料响应:', response)\n\n      if (response.data && response.data.data) {\n        const userData = response.data.data;\n        commit('SET_USER', userData)\n        return userData\n      } else {\n        throw new Error('更新用户资料失败: 响应数据格式不正确')\n      }\n    } catch (error) {\n      console.error('更新用户资料错误:', error)\n      commit('SET_ERROR', error.message || '更新用户资料失败')\n      throw error\n    } finally {\n      commit('SET_LOADING', false)\n    }\n  },\n\n  // 用户登出\n  async logout({ commit }) {\n    try {\n      await logout()\n      removeToken()\n      commit('RESET_STATE')\n    } catch (error) {\n      console.error('登出失败:', error)\n      // 即使请求失败，也清除本地状态\n      removeToken()\n      commit('RESET_STATE')\n      throw error\n    }\n  },\n\n  // 重置 Token\n  resetToken({ commit }) {\n    removeToken()\n    commit('RESET_STATE')\n  },\n\n  // 初始化认证状态 - 在应用程序启动时调用\n  async initAuth({ commit, dispatch }) {\n    const token = getToken()\n\n    if (token) {\n      commit('SET_TOKEN', token)\n\n      try {\n        await dispatch('getInfo')\n      } catch (error) {\n        console.error('初始化用户信息失败:', error)\n        // 如果获取用户信息失败，清除token\n        dispatch('resetToken')\n      }\n    }\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}