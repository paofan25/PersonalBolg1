{"ast":null,"code":"import { ref, computed, watch, onMounted, onBeforeUnmount } from 'vue';\nexport default {\n  name: 'EmojiPicker',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    position: {\n      type: Object,\n      default: () => ({\n        top: '100%',\n        left: '0'\n      })\n    }\n  },\n  emits: ['select', 'close'],\n  setup(props, {\n    emit\n  }) {\n    const emojiPicker = ref(null);\n    const activeGroup = ref(0);\n\n    // 表情分组\n    const groups = [{\n      icon: '😊',\n      emojis: [{\n        char: '😊',\n        name: 'smile'\n      }, {\n        char: '😂',\n        name: 'joy'\n      }, {\n        char: '🥰',\n        name: 'in_love'\n      }, {\n        char: '😍',\n        name: 'heart_eyes'\n      }, {\n        char: '🤗',\n        name: 'hug'\n      }, {\n        char: '🙂',\n        name: 'slightly_smile'\n      }]\n    }, {\n      icon: '👍',\n      emojis: [{\n        char: '👍',\n        name: 'thumbs_up'\n      }, {\n        char: '👏',\n        name: 'clap'\n      }, {\n        char: '🙏',\n        name: 'pray'\n      }, {\n        char: '👋',\n        name: 'wave'\n      }, {\n        char: '✌️',\n        name: 'victory'\n      }, {\n        char: '👌',\n        name: 'ok'\n      }]\n    }, {\n      icon: '🎉',\n      emojis: [{\n        char: '🎉',\n        name: 'party'\n      }, {\n        char: '🎁',\n        name: 'gift'\n      }, {\n        char: '🎂',\n        name: 'cake'\n      }, {\n        char: '🎊',\n        name: 'confetti'\n      }, {\n        char: '🍰',\n        name: 'shortcake'\n      }, {\n        char: '🍭',\n        name: 'lollipop'\n      }]\n    }, {\n      icon: '🌈',\n      emojis: [{\n        char: '🌈',\n        name: 'rainbow'\n      }, {\n        char: '🌞',\n        name: 'sun'\n      }, {\n        char: '🌙',\n        name: 'moon'\n      }, {\n        char: '⭐',\n        name: 'star'\n      }, {\n        char: '🌟',\n        name: 'glowing_star'\n      }, {\n        char: '✨',\n        name: 'sparkles'\n      }]\n    }];\n\n    // 当前分组的表情\n    const currentEmojis = computed(() => {\n      return groups[activeGroup.value].emojis;\n    });\n\n    // 处理位置计算\n    const computedPosition = computed(() => {\n      return {\n        top: props.position.top || '100%',\n        left: props.position.left || '0',\n        right: props.position.right || 'auto',\n        bottom: props.position.bottom || 'auto'\n      };\n    });\n\n    // 选择表情\n    const selectEmoji = emoji => {\n      emit('select', emoji);\n    };\n\n    // 关闭选择器\n    const close = () => {\n      emit('close');\n    };\n\n    // 点击外部关闭选择器\n    const handleClickOutside = event => {\n      if (emojiPicker.value && !emojiPicker.value.contains(event.target)) {\n        emit('close');\n      }\n    };\n    onMounted(() => {\n      document.addEventListener('click', handleClickOutside);\n    });\n    onBeforeUnmount(() => {\n      document.removeEventListener('click', handleClickOutside);\n    });\n\n    // 当显示状态变化时重置分组\n    watch(() => props.visible, newVisible => {\n      if (newVisible) {\n        activeGroup.value = 0;\n      }\n    });\n    return {\n      emojiPicker,\n      activeGroup,\n      groups,\n      currentEmojis,\n      computedPosition,\n      selectEmoji,\n      close\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","watch","onMounted","onBeforeUnmount","name","props","visible","type","Boolean","default","position","Object","top","left","emits","setup","emit","emojiPicker","activeGroup","groups","icon","emojis","char","currentEmojis","value","computedPosition","right","bottom","selectEmoji","emoji","close","handleClickOutside","event","contains","target","document","addEventListener","removeEventListener","newVisible"],"sources":["E:\\code\\PersonalBolg1\\frontend\\src\\components\\EmojiPicker.vue"],"sourcesContent":["<template>\n  <div \n    v-if=\"visible\" \n    class=\"emoji-picker\" \n    :style=\"computedPosition\"\n    ref=\"emojiPicker\"\n  >\n    <div class=\"emoji-picker-header\">\n      <div class=\"emoji-picker-title\">表情</div>\n      <button class=\"emoji-picker-close\" @click=\"close\">×</button>\n    </div>\n    <div class=\"emoji-groups\">\n      <button \n        v-for=\"(group, index) in groups\" \n        :key=\"index\"\n        class=\"emoji-group-btn\"\n        :class=\"{ active: activeGroup === index }\"\n        @click=\"activeGroup = index\"\n      >\n        {{ group.icon }}\n      </button>\n    </div>\n    <div class=\"emoji-content\">\n      <div \n        v-for=\"(emoji, index) in currentEmojis\" \n        :key=\"index\" \n        class=\"emoji-item\"\n        @click=\"selectEmoji(emoji)\"\n      >\n        {{ emoji.char }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, watch, onMounted, onBeforeUnmount } from 'vue';\n\nexport default {\n  name: 'EmojiPicker',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    position: {\n      type: Object,\n      default: () => ({ top: '100%', left: '0' })\n    }\n  },\n  emits: ['select', 'close'],\n  setup(props, { emit }) {\n    const emojiPicker = ref(null);\n    const activeGroup = ref(0);\n    \n    // 表情分组\n    const groups = [\n      { \n        icon: '😊',\n        emojis: [\n          { char: '😊', name: 'smile' },\n          { char: '😂', name: 'joy' },\n          { char: '🥰', name: 'in_love' },\n          { char: '😍', name: 'heart_eyes' },\n          { char: '🤗', name: 'hug' },\n          { char: '🙂', name: 'slightly_smile' }\n        ]\n      },\n      {\n        icon: '👍',\n        emojis: [\n          { char: '👍', name: 'thumbs_up' },\n          { char: '👏', name: 'clap' },\n          { char: '🙏', name: 'pray' },\n          { char: '👋', name: 'wave' },\n          { char: '✌️', name: 'victory' },\n          { char: '👌', name: 'ok' }\n        ]\n      },\n      {\n        icon: '🎉',\n        emojis: [\n          { char: '🎉', name: 'party' },\n          { char: '🎁', name: 'gift' },\n          { char: '🎂', name: 'cake' },\n          { char: '🎊', name: 'confetti' },\n          { char: '🍰', name: 'shortcake' },\n          { char: '🍭', name: 'lollipop' }\n        ]\n      },\n      {\n        icon: '🌈',\n        emojis: [\n          { char: '🌈', name: 'rainbow' },\n          { char: '🌞', name: 'sun' },\n          { char: '🌙', name: 'moon' },\n          { char: '⭐', name: 'star' },\n          { char: '🌟', name: 'glowing_star' },\n          { char: '✨', name: 'sparkles' }\n        ]\n      }\n    ];\n    \n    // 当前分组的表情\n    const currentEmojis = computed(() => {\n      return groups[activeGroup.value].emojis;\n    });\n    \n    // 处理位置计算\n    const computedPosition = computed(() => {\n      return {\n        top: props.position.top || '100%',\n        left: props.position.left || '0',\n        right: props.position.right || 'auto',\n        bottom: props.position.bottom || 'auto'\n      };\n    });\n    \n    // 选择表情\n    const selectEmoji = (emoji) => {\n      emit('select', emoji);\n    };\n    \n    // 关闭选择器\n    const close = () => {\n      emit('close');\n    };\n    \n    // 点击外部关闭选择器\n    const handleClickOutside = (event) => {\n      if (emojiPicker.value && !emojiPicker.value.contains(event.target)) {\n        emit('close');\n      }\n    };\n    \n    onMounted(() => {\n      document.addEventListener('click', handleClickOutside);\n    });\n    \n    onBeforeUnmount(() => {\n      document.removeEventListener('click', handleClickOutside);\n    });\n    \n    // 当显示状态变化时重置分组\n    watch(() => props.visible, (newVisible) => {\n      if (newVisible) {\n        activeGroup.value = 0;\n      }\n    });\n    \n    return {\n      emojiPicker,\n      activeGroup,\n      groups,\n      currentEmojis,\n      computedPosition,\n      selectEmoji,\n      close\n    };\n  }\n};\n</script>\n\n<style scoped>\n.emoji-picker {\n  position: absolute;\n  width: 250px;\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  overflow: hidden;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n}\n\n.emoji-picker-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  border-bottom: 1px solid #eee;\n}\n\n.emoji-picker-title {\n  font-size: 14px;\n  font-weight: bold;\n  color: #333;\n}\n\n.emoji-picker-close {\n  background: none;\n  border: none;\n  font-size: 18px;\n  cursor: pointer;\n  color: #999;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n\n.emoji-picker-close:hover {\n  background: #f0f0f0;\n  color: #666;\n}\n\n.emoji-groups {\n  display: flex;\n  border-bottom: 1px solid #eee;\n  padding: 8px;\n}\n\n.emoji-group-btn {\n  background: none;\n  border: none;\n  font-size: 16px;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  margin-right: 4px;\n}\n\n.emoji-group-btn.active {\n  background: #f0f0f0;\n}\n\n.emoji-content {\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  gap: 5px;\n  padding: 10px;\n  height: 150px;\n  overflow-y: auto;\n}\n\n.emoji-item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 22px;\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 4px;\n}\n\n.emoji-item:hover {\n  background: #f0f0f0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}