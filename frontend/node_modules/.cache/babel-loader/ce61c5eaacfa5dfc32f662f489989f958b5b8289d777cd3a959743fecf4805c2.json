{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport BlogView from '../views/BlogView.vue';\nimport PostDetailView from '../views/PostDetailView.vue';\nimport NotFoundView from '../views/NotFoundView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport RegisterView from '../views/RegisterView.vue';\nimport GamesView from '../views/GamesView.vue';\nimport MemoryGame from '../views/games/MemoryGame.vue';\nimport store from '@/store';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/blog',\n  name: 'blog',\n  component: BlogView\n}, {\n  path: '/posts/:id',\n  name: 'post-detail',\n  component: PostDetailView\n}, {\n  path: '/chat',\n  name: 'chat',\n  component: () => import('../views/ChatAssistant.vue')\n}, {\n  path: '/games',\n  name: 'games',\n  component: GamesView\n}, {\n  path: '/games/memory',\n  name: 'memory-game',\n  component: MemoryGame\n}, {\n  path: '/games/farm',\n  name: 'cloud-farm',\n  component: () => import('../views/games/CloudFarm.vue')\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView\n}, {\n  path: '/profile',\n  name: 'UserProfile',\n  component: () => import('@/views/UserProfile.vue'),\n  meta: {\n    requiresAuth: true,\n    title: '个人中心 - 甜梦星球'\n  }\n}, {\n  path: '/articles',\n  name: 'Articles',\n  component: () => import('@/views/ArticleList.vue'),\n  meta: {\n    title: '文章列表'\n  }\n}, {\n  path: '/article/:id',\n  name: 'ArticleDetail',\n  component: () => import('@/views/ArticleDetail.vue'),\n  meta: {\n    title: '文章详情'\n  }\n}, {\n  path: '/article/create',\n  name: 'ArticleCreate',\n  component: () => import('@/views/ArticleEdit.vue'),\n  meta: {\n    title: '创建文章',\n    requiresAuth: true\n  }\n}, {\n  path: '/article/edit/:id',\n  name: 'ArticleEdit',\n  component: () => import('@/views/ArticleEdit.vue'),\n  meta: {\n    title: '编辑文章',\n    requiresAuth: true\n  }\n}, {\n  path: '/:pathMatch(.*)*',\n  name: 'not-found',\n  component: NotFoundView\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else {\n      return {\n        top: 0\n      };\n    }\n  }\n});\n\n// 全局前置守卫\nrouter.beforeEach((to, from, next) => {\n  // 设置页面标题\n  document.title = to.meta.title || '甜梦星球';\n\n  // 检查是否需要登录\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 如果路由需要登录但用户未登录，重定向到登录页面\n    if (!store.getters['auth/isLoggedIn']) {\n      next({\n        path: '/login',\n        query: {\n          redirect: to.fullPath\n        }\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","BlogView","PostDetailView","NotFoundView","LoginView","RegisterView","GamesView","MemoryGame","store","routes","path","name","component","meta","requiresAuth","title","router","history","process","env","BASE_URL","scrollBehavior","to","from","savedPosition","top","beforeEach","next","document","matched","some","record","getters","query","redirect","fullPath"],"sources":["E:/code/PersonalBolg1/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport BlogView from '../views/BlogView.vue'\nimport PostDetailView from '../views/PostDetailView.vue'\nimport NotFoundView from '../views/NotFoundView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport RegisterView from '../views/RegisterView.vue'\nimport GamesView from '../views/GamesView.vue'\nimport MemoryGame from '../views/games/MemoryGame.vue'\nimport store from '@/store'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/blog',\n    name: 'blog',\n    component: BlogView\n  },\n  {\n    path: '/posts/:id',\n    name: 'post-detail',\n    component: PostDetailView\n  },\n  {\n    path: '/chat',\n    name: 'chat',\n    component: () => import('../views/ChatAssistant.vue')\n  },\n  {\n    path: '/games',\n    name: 'games',\n    component: GamesView\n  },\n  {\n    path: '/games/memory',\n    name: 'memory-game',\n    component: MemoryGame\n  },\n  {\n    path: '/games/farm',\n    name: 'cloud-farm',\n    component: () => import('../views/games/CloudFarm.vue')\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView\n  },\n  {\n    path: '/profile',\n    name: 'UserProfile',\n    component: () => import('@/views/UserProfile.vue'),\n    meta: {\n      requiresAuth: true,\n      title: '个人中心 - 甜梦星球'\n    }\n  },\n  {\n    path: '/articles',\n    name: 'Articles',\n    component: () => import('@/views/ArticleList.vue'),\n    meta: { title: '文章列表' }\n  },\n  {\n    path: '/article/:id',\n    name: 'ArticleDetail',\n    component: () => import('@/views/ArticleDetail.vue'),\n    meta: { title: '文章详情' }\n  },\n  {\n    path: '/article/create',\n    name: 'ArticleCreate',\n    component: () => import('@/views/ArticleEdit.vue'),\n    meta: { \n      title: '创建文章',\n      requiresAuth: true \n    }\n  },\n  {\n    path: '/article/edit/:id',\n    name: 'ArticleEdit',\n    component: () => import('@/views/ArticleEdit.vue'),\n    meta: { \n      title: '编辑文章',\n      requiresAuth: true \n    }\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    name: 'not-found',\n    component: NotFoundView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition\n    } else {\n      return { top: 0 }\n    }\n  }\n})\n\n// 全局前置守卫\nrouter.beforeEach((to, from, next) => {\n  // 设置页面标题\n  document.title = to.meta.title || '甜梦星球'\n\n  // 检查是否需要登录\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 如果路由需要登录但用户未登录，重定向到登录页面\n    if (!store.getters['auth/isLoggedIn']) {\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      next()\n    }\n  } else {\n    next()\n  }\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}