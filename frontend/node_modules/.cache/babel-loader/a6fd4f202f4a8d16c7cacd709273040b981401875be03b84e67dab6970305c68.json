{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport weatherService from './weather';\nimport xfyunService from './xfyun';\nclass ChatService {\n  constructor() {\n    this.messages = [];\n  }\n\n  // ÂàÜÊûêÁî®Êà∑ËæìÂÖ•ÁöÑÊÉÖÁª™\n  async analyzeEmotion(text) {\n    try {\n      console.log('ÂºÄÂßãÂàÜÊûêÊÉÖÁª™:', text);\n\n      // ‰ΩøÁî®ËÆØÈ£ûAPIËøõË°åÊÉÖÁª™ÂàÜÊûê\n      const prompt = `ËØ∑ÂàÜÊûê‰ª•‰∏ãÊñáÊú¨ÁöÑÊÉÖÁª™ÔºåÂè™ËøîÂõû‰∏Ä‰∏™ËØçÔºö\"happy\"„ÄÅ\"sad\"„ÄÅ\"worried\"„ÄÅ\"excited\"Êàñ\"neutral\"Ôºå‰∏çË¶ÅËøîÂõûÂÖ∂‰ªñÂÜÖÂÆπ„ÄÇ\\nÊñáÊú¨Ôºö${text}`;\n      const response = await xfyunService.chat([{\n        role: 'user',\n        content: prompt\n      }]);\n      console.log('ÊÉÖÁª™ÂàÜÊûêÁªìÊûú:', response);\n      const emotion = response.trim().toLowerCase();\n\n      // Á°Æ‰øùËøîÂõûÁöÑÊòØÊúâÊïàÁöÑÊÉÖÁª™Á±ªÂûã\n      const validEmotions = ['happy', 'sad', 'worried', 'excited', 'neutral'];\n      return validEmotions.includes(emotion) ? emotion : 'neutral';\n    } catch (error) {\n      console.error('ÊÉÖÁª™ÂàÜÊûêÂ§±Ë¥•:', error);\n      return 'neutral';\n    }\n  }\n\n  // ÁîüÊàêÂõûÂ§ç\n  async generateResponse(text, emotion) {\n    try {\n      console.log('ÂºÄÂßãÁîüÊàêÂõûÂ§ç:', {\n        text,\n        emotion\n      });\n\n      // Ê£ÄÊü•ÊòØÂê¶ÊòØÂ§©Ê∞îÁõ∏ÂÖ≥ËØ¢ÈóÆ\n      if (this.isWeatherQuery(text)) {\n        const weather = await weatherService.getNowWeather();\n        if (weather) {\n          return {\n            text: weatherService.generateWeatherDescription(weather),\n            weather,\n            actions: []\n          };\n        }\n      }\n\n      // Ê†πÊçÆÊÉÖÁª™ÈÄâÊã©ÈÄÇÂΩìÁöÑË°®ÊÉÖÁ¨¶Âè∑ÂâçÁºÄ\n      const emotionEmojis = {\n        'happy': 'üòäüíï',\n        'sad': 'üòîüíô',\n        'worried': 'üòüüí≠',\n        'excited': 'üòÉ‚ú®',\n        'neutral': 'üòå‚òÄÔ∏è',\n        'positive': 'üòäüíï',\n        'negative': 'üòîüíô'\n      };\n      const emojiPrefix = emotionEmojis[emotion] || 'üòä';\n\n      // ‰ΩøÁî®ËÆØÈ£ûAPIÁîüÊàêÂõûÂ§ç\n      const prompt = `‰Ω†ÊòØ‰∏Ä‰∏™ÂèØÁà±ÁöÑAIÂä©Êâã\"Á≥ñÁêÉ\"ÔºåÊÄßÊ†ºÊ∏©ÊüîÊ¥ªÊ≥º„ÄÇËØ∑Ê†πÊçÆ‰ª•‰∏ãË¶ÅÊ±ÇÂõûÂ§çÔºö\n1. ‰ΩøÁî®ÂèØÁà±„ÄÅÊ≤ªÊÑàÁöÑËØ≠Ê∞î\n2. ÊØèÂè•ËØùÁªìÂ∞æÂä†‰∏äÂèØÁà±ÁöÑÈ¢úÊñáÂ≠óÔºåÂ¶Ç(‚óï‚Äø‚óï‚úø) (Ôºæ‚ñΩÔºæ) (‚âß‚ó°‚â¶) (ÔΩ°‚óï‚Äø‚óïÔΩ°) Á≠â\n3. ÂõûÂ§çÈïøÂ∫¶ÊéßÂà∂Âú®100Â≠ó‰ª•ÂÜÖ\n4. ÂΩìÂâçÁî®Êà∑ÊÉÖÁª™Ôºö${emotion}ÔºåËØ∑Áõ∏Â∫îË∞ÉÊï¥ÂõûÂ§çËØ≠Ê∞î\n5. Âú®ÂõûÂ§ç‰∏≠‰ΩøÁî®emojiË°®ÊÉÖÔºåÂ¶Çüòä üíï ‚ú® üåà üéÄ üå∏ Á≠â\n6. ÂõûÂ§çÂÜÖÂÆπË¶Å‰∫≤Âàá„ÄÅÊúâË∂£„ÄÅË¥¥ËøëÁîüÊ¥ª\n\nÁî®Êà∑ËØ¥Ôºö${text}`;\n      console.log('ÂèëÈÄÅÂà∞ËÆØÈ£ûÁöÑÊèêÁ§∫ËØç:', prompt);\n      const messages = [{\n        role: 'system',\n        content: '‰Ω†ÊòØ‰∏Ä‰∏™ÂèØÁà±ÁöÑAIÂä©Êâã\"Á≥ñÁêÉ\"ÔºåÊÄßÊ†ºÊ∏©ÊüîÊ¥ªÊ≥ºÔºå‰ºö‰ΩøÁî®‰∏∞ÂØåÁöÑË°®ÊÉÖÁ¨¶Âè∑ÂíåemojiÔºåËØ≠Ê∞îÊ∏©Êöñ‰∫≤Âàá„ÄÇ'\n      }, {\n        role: 'user',\n        content: prompt\n      }];\n      const response = await xfyunService.chat(messages);\n      console.log('ËÆØÈ£ûËøîÂõûÁöÑÂõûÂ§ç:', response);\n\n      // Ê†πÊçÆÊÉÖÁª™Ê∑ªÂä†‰∫íÂä®Âä®‰Ωú\n      const actions = this.generateActions(emotion);\n      return {\n        text: response,\n        actions\n      };\n    } catch (error) {\n      console.error('ÁîüÊàêÂõûÂ§çÂ§±Ë¥•:', error);\n      // ‰ΩøÁî®Êú¨Âú∞ÂõûÂ§ç‰Ωú‰∏∫Â§áÈÄâ\n      return this.generateLocalResponse(text, emotion);\n    }\n  }\n\n  // ÁîüÊàêÊú¨Âú∞ÂõûÂ§ç‰Ωú‰∏∫Â§áÈÄâ\n  generateLocalResponse(text, emotion) {\n    console.log('‰ΩøÁî®Êú¨Âú∞ÂõûÂ§çÂ§áÈÄâ');\n\n    // ÂèØÁà±ÁöÑË°®ÊÉÖÁ¨¶Âè∑ÈõÜÂêà\n    const kaomojis = ['(‚óï‚Äø‚óï‚úø)', '(Ôºæ‚ñΩÔºæ)', '(‚âß‚ó°‚â¶)', '(ÔΩ°‚óï‚Äø‚óïÔΩ°)', '(Ôæâ‚óï„ÉÆ‚óï)Ôæâ*:ÔΩ•Ôæü‚úß', '(„Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å•', '(„Éé^_^)„Éé', '(‚óèÀá‚àÄÀá‚óè)', '(*^‚ñΩ^*)', '(‚úø‚ó†‚Äø‚ó†)'];\n    const emojis = ['üòä', 'üíï', '‚ú®', 'üåà', 'üéÄ', 'üå∏', 'üç≠', 'üéµ', 'üåü', 'üí´', 'üíù'];\n\n    // ÈöèÊú∫ÈÄâÊã©Ë°®ÊÉÖÂíåemoji\n    const randomKaomoji = kaomojis[Math.floor(Math.random() * kaomojis.length)];\n    const randomEmoji1 = emojis[Math.floor(Math.random() * emojis.length)];\n    const randomEmoji2 = emojis[Math.floor(Math.random() * emojis.length)];\n\n    // Ê†πÊçÆÊÉÖÁª™ÁîüÊàêÂõûÂ§ç\n    let response;\n    if (text.includes('‰Ω†Â•Ω') || text.includes('Âó®') || text.includes('hi') || text.includes('hello')) {\n      response = `${randomEmoji1} ‰Ω†Â•ΩÂëÄÔºÅÊàëÊòØÁ≥ñÁêÉÂä©ÊâãÔºåÂæàÈ´òÂÖ¥ËßÅÂà∞‰Ω†ÔºÅÊúâ‰ªÄ‰πàÊàëËÉΩÂ∏ÆÂà∞‰Ω†ÁöÑÂêóÔºü${randomKaomoji}`;\n    } else if (text.includes('Â§©Ê∞î')) {\n      response = `${randomEmoji1} ÊÉ≥Áü•ÈÅìÂ§©Ê∞îÂëÄÔºüÁ®çÁ≠âÊàëÊü•‰∏Ä‰∏ãÂì¶~ÂèØ‰ª•ÂëäËØâÊàë‰Ω†ÊÉ≥Êü•ËØ¢Âì™‰∏™ÂüéÂ∏ÇÁöÑÂ§©Ê∞îÂêóÔºü${randomKaomoji}`;\n    } else if (emotion === 'happy' || emotion === 'positive') {\n      response = `${randomEmoji1} ÁúãÂà∞‰Ω†Ëøô‰πàÂºÄÂøÉÔºåÊàë‰πüÂ•ΩÈ´òÂÖ¥ÂëÄÔºÅÂ∏åÊúõ‰Ω†ÁöÑÂ•ΩÂøÉÊÉÖËÉΩ‰∏ÄÁõ¥ÊåÅÁª≠‰∏ãÂéªÂì¶ÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else if (emotion === 'sad' || emotion === 'negative') {\n      response = `${randomEmoji1} Âà´ÈöæËøáÂï¶~Êúâ‰ªÄ‰πà‰∫ãÊÉÖÂèØ‰ª•ÂíåÊàëÂàÜ‰∫´ÔºåÊàë‰ºö‰∏ÄÁõ¥Èô™ÁùÄ‰Ω†ÁöÑÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else if (emotion === 'worried') {\n      response = `${randomEmoji1} ‰∏çË¶ÅÊãÖÂøÉÂ§™Â§öÂï¶ÔºåÊ∑±ÂëºÂê∏ÔºåÊîæËΩªÊùæÔºå‰∏ÄÂàáÈÉΩ‰ºöÂ•ΩËµ∑Êù•ÁöÑÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else if (emotion === 'excited') {\n      response = `${randomEmoji1} ÂìáÔºÅ‰Ω†ÁúãËµ∑Êù•Ë∂ÖÂÖ¥Â•ãÁöÑÔºÅÂèëÁîü‰∫Ü‰ªÄ‰πàÂ•Ω‰∫ãÊÉÖÂêóÔºüÂíåÊàëÂàÜ‰∫´‰∏Ä‰∏ãÂêßÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else {\n      response = `${randomEmoji1} ÂóØÂóØÔºåÊàëÊáÇ‰Ω†ÁöÑÊÑèÊÄùÂï¶ÔºÅËøòÊúâ‰ªÄ‰πàÊÉ≥ËÅäÁöÑÂêóÔºüÊàë‰ª¨ÂèØ‰ª•ËÅä‰ªª‰Ωï‰Ω†ÊÑüÂÖ¥Ë∂£ÁöÑËØùÈ¢òÂì¶ÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    }\n    return {\n      text: response,\n      actions: this.generateActions(emotion)\n    };\n  }\n\n  // Ê£ÄÊü•ÊòØÂê¶ÊòØÂ§©Ê∞îÁõ∏ÂÖ≥ËØ¢ÈóÆ\n  isWeatherQuery(text) {\n    const weatherKeywords = ['Â§©Ê∞î', '‰∏ãÈõ®', 'Ê∏©Â∫¶', 'ÂÜ∑', 'ÁÉ≠', 'Ê∞îÊ∏©', 'È¢ÑÊä•'];\n    if (weatherKeywords.some(keyword => text.includes(keyword))) {\n      // Áõ¥Êé•Ë∞ÉÁî®Â§©Ê∞îÊúçÂä°Ëé∑ÂèñÂ§©Ê∞î‰ø°ÊÅØ\n      return weatherService.getNowWeather();\n    }\n    return null;\n  }\n\n  // Ê†πÊçÆÊÉÖÁª™ÁîüÊàê‰∫íÂä®Âä®‰Ωú\n  generateActions(emotion) {\n    const actions = [];\n    switch (emotion) {\n      case 'happy':\n        actions.push({\n          type: 'animation',\n          name: 'bounce'\n        }, {\n          type: 'sound',\n          sound: 'purr'\n        });\n        break;\n      case 'sad':\n        actions.push({\n          type: 'sound',\n          sound: 'rain'\n        }, {\n          type: 'animation',\n          name: 'float'\n        });\n        break;\n      case 'worried':\n        actions.push({\n          type: 'animation',\n          name: 'wave'\n        }, {\n          type: 'sound',\n          sound: 'music'\n        });\n        break;\n      case 'excited':\n        actions.push({\n          type: 'animation',\n          name: 'spin'\n        }, {\n          type: 'sound',\n          sound: 'purr'\n        });\n        break;\n      case 'neutral':\n        actions.push({\n          type: 'animation',\n          name: 'float'\n        });\n        break;\n    }\n    return actions;\n  }\n}\nexport default new ChatService();","map":{"version":3,"names":["weatherService","xfyunService","ChatService","constructor","messages","analyzeEmotion","text","console","log","prompt","response","chat","role","content","emotion","trim","toLowerCase","validEmotions","includes","error","generateResponse","isWeatherQuery","weather","getNowWeather","generateWeatherDescription","actions","emotionEmojis","emojiPrefix","generateActions","generateLocalResponse","kaomojis","emojis","randomKaomoji","Math","floor","random","length","randomEmoji1","randomEmoji2","weatherKeywords","some","keyword","push","type","name","sound"],"sources":["E:/code/PersonalBolg1/frontend/src/services/chat.js"],"sourcesContent":["import weatherService from './weather';\nimport xfyunService from './xfyun';\n\nclass ChatService {\n  constructor() {\n    this.messages = [];\n  }\n\n  // ÂàÜÊûêÁî®Êà∑ËæìÂÖ•ÁöÑÊÉÖÁª™\n  async analyzeEmotion(text) {\n    try {\n      console.log('ÂºÄÂßãÂàÜÊûêÊÉÖÁª™:', text);\n      \n      // ‰ΩøÁî®ËÆØÈ£ûAPIËøõË°åÊÉÖÁª™ÂàÜÊûê\n      const prompt = `ËØ∑ÂàÜÊûê‰ª•‰∏ãÊñáÊú¨ÁöÑÊÉÖÁª™ÔºåÂè™ËøîÂõû‰∏Ä‰∏™ËØçÔºö\"happy\"„ÄÅ\"sad\"„ÄÅ\"worried\"„ÄÅ\"excited\"Êàñ\"neutral\"Ôºå‰∏çË¶ÅËøîÂõûÂÖ∂‰ªñÂÜÖÂÆπ„ÄÇ\\nÊñáÊú¨Ôºö${text}`;\n      const response = await xfyunService.chat([{ role: 'user', content: prompt }]);\n      console.log('ÊÉÖÁª™ÂàÜÊûêÁªìÊûú:', response);\n      \n      const emotion = response.trim().toLowerCase();\n      \n      // Á°Æ‰øùËøîÂõûÁöÑÊòØÊúâÊïàÁöÑÊÉÖÁª™Á±ªÂûã\n      const validEmotions = ['happy', 'sad', 'worried', 'excited', 'neutral'];\n      return validEmotions.includes(emotion) ? emotion : 'neutral';\n    } catch (error) {\n      console.error('ÊÉÖÁª™ÂàÜÊûêÂ§±Ë¥•:', error);\n      return 'neutral';\n    }\n  }\n\n  // ÁîüÊàêÂõûÂ§ç\n  async generateResponse(text, emotion) {\n    try {\n      console.log('ÂºÄÂßãÁîüÊàêÂõûÂ§ç:', { text, emotion });\n      \n      // Ê£ÄÊü•ÊòØÂê¶ÊòØÂ§©Ê∞îÁõ∏ÂÖ≥ËØ¢ÈóÆ\n      if (this.isWeatherQuery(text)) {\n        const weather = await weatherService.getNowWeather();\n        if (weather) {\n          return {\n            text: weatherService.generateWeatherDescription(weather),\n            weather,\n            actions: []\n          };\n        }\n      }\n\n      // Ê†πÊçÆÊÉÖÁª™ÈÄâÊã©ÈÄÇÂΩìÁöÑË°®ÊÉÖÁ¨¶Âè∑ÂâçÁºÄ\n      const emotionEmojis = {\n        'happy': 'üòäüíï',\n        'sad': 'üòîüíô',\n        'worried': 'üòüüí≠',\n        'excited': 'üòÉ‚ú®',\n        'neutral': 'üòå‚òÄÔ∏è',\n        'positive': 'üòäüíï',\n        'negative': 'üòîüíô'\n      };\n      \n      const emojiPrefix = emotionEmojis[emotion] || 'üòä';\n      \n      // ‰ΩøÁî®ËÆØÈ£ûAPIÁîüÊàêÂõûÂ§ç\n      const prompt = `‰Ω†ÊòØ‰∏Ä‰∏™ÂèØÁà±ÁöÑAIÂä©Êâã\"Á≥ñÁêÉ\"ÔºåÊÄßÊ†ºÊ∏©ÊüîÊ¥ªÊ≥º„ÄÇËØ∑Ê†πÊçÆ‰ª•‰∏ãË¶ÅÊ±ÇÂõûÂ§çÔºö\n1. ‰ΩøÁî®ÂèØÁà±„ÄÅÊ≤ªÊÑàÁöÑËØ≠Ê∞î\n2. ÊØèÂè•ËØùÁªìÂ∞æÂä†‰∏äÂèØÁà±ÁöÑÈ¢úÊñáÂ≠óÔºåÂ¶Ç(‚óï‚Äø‚óï‚úø) (Ôºæ‚ñΩÔºæ) (‚âß‚ó°‚â¶) (ÔΩ°‚óï‚Äø‚óïÔΩ°) Á≠â\n3. ÂõûÂ§çÈïøÂ∫¶ÊéßÂà∂Âú®100Â≠ó‰ª•ÂÜÖ\n4. ÂΩìÂâçÁî®Êà∑ÊÉÖÁª™Ôºö${emotion}ÔºåËØ∑Áõ∏Â∫îË∞ÉÊï¥ÂõûÂ§çËØ≠Ê∞î\n5. Âú®ÂõûÂ§ç‰∏≠‰ΩøÁî®emojiË°®ÊÉÖÔºåÂ¶Çüòä üíï ‚ú® üåà üéÄ üå∏ Á≠â\n6. ÂõûÂ§çÂÜÖÂÆπË¶Å‰∫≤Âàá„ÄÅÊúâË∂£„ÄÅË¥¥ËøëÁîüÊ¥ª\n\nÁî®Êà∑ËØ¥Ôºö${text}`;\n\n      console.log('ÂèëÈÄÅÂà∞ËÆØÈ£ûÁöÑÊèêÁ§∫ËØç:', prompt);\n      \n      const messages = [\n        { role: 'system', content: '‰Ω†ÊòØ‰∏Ä‰∏™ÂèØÁà±ÁöÑAIÂä©Êâã\"Á≥ñÁêÉ\"ÔºåÊÄßÊ†ºÊ∏©ÊüîÊ¥ªÊ≥ºÔºå‰ºö‰ΩøÁî®‰∏∞ÂØåÁöÑË°®ÊÉÖÁ¨¶Âè∑ÂíåemojiÔºåËØ≠Ê∞îÊ∏©Êöñ‰∫≤Âàá„ÄÇ' },\n        { role: 'user', content: prompt }\n      ];\n      \n      const response = await xfyunService.chat(messages);\n      console.log('ËÆØÈ£ûËøîÂõûÁöÑÂõûÂ§ç:', response);\n\n      // Ê†πÊçÆÊÉÖÁª™Ê∑ªÂä†‰∫íÂä®Âä®‰Ωú\n      const actions = this.generateActions(emotion);\n\n      return {\n        text: response,\n        actions\n      };\n    } catch (error) {\n      console.error('ÁîüÊàêÂõûÂ§çÂ§±Ë¥•:', error);\n      // ‰ΩøÁî®Êú¨Âú∞ÂõûÂ§ç‰Ωú‰∏∫Â§áÈÄâ\n      return this.generateLocalResponse(text, emotion);\n    }\n  }\n  \n  // ÁîüÊàêÊú¨Âú∞ÂõûÂ§ç‰Ωú‰∏∫Â§áÈÄâ\n  generateLocalResponse(text, emotion) {\n    console.log('‰ΩøÁî®Êú¨Âú∞ÂõûÂ§çÂ§áÈÄâ');\n    \n    // ÂèØÁà±ÁöÑË°®ÊÉÖÁ¨¶Âè∑ÈõÜÂêà\n    const kaomojis = ['(‚óï‚Äø‚óï‚úø)', '(Ôºæ‚ñΩÔºæ)', '(‚âß‚ó°‚â¶)', '(ÔΩ°‚óï‚Äø‚óïÔΩ°)', '(Ôæâ‚óï„ÉÆ‚óï)Ôæâ*:ÔΩ•Ôæü‚úß', '(„Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å•', '(„Éé^_^)„Éé', '(‚óèÀá‚àÄÀá‚óè)', '(*^‚ñΩ^*)', '(‚úø‚ó†‚Äø‚ó†)'];\n    const emojis = ['üòä', 'üíï', '‚ú®', 'üåà', 'üéÄ', 'üå∏', 'üç≠', 'üéµ', 'üåü', 'üí´', 'üíù'];\n    \n    // ÈöèÊú∫ÈÄâÊã©Ë°®ÊÉÖÂíåemoji\n    const randomKaomoji = kaomojis[Math.floor(Math.random() * kaomojis.length)];\n    const randomEmoji1 = emojis[Math.floor(Math.random() * emojis.length)];\n    const randomEmoji2 = emojis[Math.floor(Math.random() * emojis.length)];\n    \n    // Ê†πÊçÆÊÉÖÁª™ÁîüÊàêÂõûÂ§ç\n    let response;\n    if (text.includes('‰Ω†Â•Ω') || text.includes('Âó®') || text.includes('hi') || text.includes('hello')) {\n      response = `${randomEmoji1} ‰Ω†Â•ΩÂëÄÔºÅÊàëÊòØÁ≥ñÁêÉÂä©ÊâãÔºåÂæàÈ´òÂÖ¥ËßÅÂà∞‰Ω†ÔºÅÊúâ‰ªÄ‰πàÊàëËÉΩÂ∏ÆÂà∞‰Ω†ÁöÑÂêóÔºü${randomKaomoji}`;\n    } else if (text.includes('Â§©Ê∞î')) {\n      response = `${randomEmoji1} ÊÉ≥Áü•ÈÅìÂ§©Ê∞îÂëÄÔºüÁ®çÁ≠âÊàëÊü•‰∏Ä‰∏ãÂì¶~ÂèØ‰ª•ÂëäËØâÊàë‰Ω†ÊÉ≥Êü•ËØ¢Âì™‰∏™ÂüéÂ∏ÇÁöÑÂ§©Ê∞îÂêóÔºü${randomKaomoji}`;\n    } else if (emotion === 'happy' || emotion === 'positive') {\n      response = `${randomEmoji1} ÁúãÂà∞‰Ω†Ëøô‰πàÂºÄÂøÉÔºåÊàë‰πüÂ•ΩÈ´òÂÖ¥ÂëÄÔºÅÂ∏åÊúõ‰Ω†ÁöÑÂ•ΩÂøÉÊÉÖËÉΩ‰∏ÄÁõ¥ÊåÅÁª≠‰∏ãÂéªÂì¶ÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else if (emotion === 'sad' || emotion === 'negative') {\n      response = `${randomEmoji1} Âà´ÈöæËøáÂï¶~Êúâ‰ªÄ‰πà‰∫ãÊÉÖÂèØ‰ª•ÂíåÊàëÂàÜ‰∫´ÔºåÊàë‰ºö‰∏ÄÁõ¥Èô™ÁùÄ‰Ω†ÁöÑÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else if (emotion === 'worried') {\n      response = `${randomEmoji1} ‰∏çË¶ÅÊãÖÂøÉÂ§™Â§öÂï¶ÔºåÊ∑±ÂëºÂê∏ÔºåÊîæËΩªÊùæÔºå‰∏ÄÂàáÈÉΩ‰ºöÂ•ΩËµ∑Êù•ÁöÑÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else if (emotion === 'excited') {\n      response = `${randomEmoji1} ÂìáÔºÅ‰Ω†ÁúãËµ∑Êù•Ë∂ÖÂÖ¥Â•ãÁöÑÔºÅÂèëÁîü‰∫Ü‰ªÄ‰πàÂ•Ω‰∫ãÊÉÖÂêóÔºüÂíåÊàëÂàÜ‰∫´‰∏Ä‰∏ãÂêßÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    } else {\n      response = `${randomEmoji1} ÂóØÂóØÔºåÊàëÊáÇ‰Ω†ÁöÑÊÑèÊÄùÂï¶ÔºÅËøòÊúâ‰ªÄ‰πàÊÉ≥ËÅäÁöÑÂêóÔºüÊàë‰ª¨ÂèØ‰ª•ËÅä‰ªª‰Ωï‰Ω†ÊÑüÂÖ¥Ë∂£ÁöÑËØùÈ¢òÂì¶ÔºÅ${randomEmoji2} ${randomKaomoji}`;\n    }\n    \n    return {\n      text: response,\n      actions: this.generateActions(emotion)\n    };\n  }\n\n  // Ê£ÄÊü•ÊòØÂê¶ÊòØÂ§©Ê∞îÁõ∏ÂÖ≥ËØ¢ÈóÆ\n  isWeatherQuery(text) {\n    const weatherKeywords = ['Â§©Ê∞î', '‰∏ãÈõ®', 'Ê∏©Â∫¶', 'ÂÜ∑', 'ÁÉ≠', 'Ê∞îÊ∏©', 'È¢ÑÊä•'];\n    \n    if (weatherKeywords.some(keyword => text.includes(keyword))) {\n      // Áõ¥Êé•Ë∞ÉÁî®Â§©Ê∞îÊúçÂä°Ëé∑ÂèñÂ§©Ê∞î‰ø°ÊÅØ\n      return weatherService.getNowWeather();\n    }\n    \n    return null;\n  }\n\n  // Ê†πÊçÆÊÉÖÁª™ÁîüÊàê‰∫íÂä®Âä®‰Ωú\n  generateActions(emotion) {\n    const actions = [];\n\n    switch (emotion) {\n      case 'happy':\n        actions.push(\n          { type: 'animation', name: 'bounce' },\n          { type: 'sound', sound: 'purr' }\n        );\n        break;\n      case 'sad':\n        actions.push(\n          { type: 'sound', sound: 'rain' },\n          { type: 'animation', name: 'float' }\n        );\n        break;\n      case 'worried':\n        actions.push(\n          { type: 'animation', name: 'wave' },\n          { type: 'sound', sound: 'music' }\n        );\n        break;\n      case 'excited':\n        actions.push(\n          { type: 'animation', name: 'spin' },\n          { type: 'sound', sound: 'purr' }\n        );\n        break;\n      case 'neutral':\n        actions.push(\n          { type: 'animation', name: 'float' }\n        );\n        break;\n    }\n\n    return actions;\n  }\n}\n\nexport default new ChatService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}