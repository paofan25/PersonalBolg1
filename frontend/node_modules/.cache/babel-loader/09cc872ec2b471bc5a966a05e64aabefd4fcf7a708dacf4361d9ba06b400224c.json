{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nclass WeatherService {\n  constructor() {\n    // ‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÊàñÈªòËÆ§ÂÄº\n    this.key = process.env.VUE_APP_WEATHER_KEY || '20ad4f9133c94ac69f48192ef755f473';\n    this.baseUrl = process.env.VUE_APP_WEATHER_URL || 'https://kv436fwcq8.re.qweatherapi.com/v7';\n\n    // ÂüéÂ∏ÇÁºìÂ≠òÔºåÊ†ºÂºè: { cityName: { data, timestamp } }\n    this.weatherCache = new Map();\n    // ÁºìÂ≠òÊúâÊïàÊúüÔºà5ÂàÜÈíüÔºâ\n    this.cacheExpiration = 5 * 60 * 1000;\n\n    // ÈªòËÆ§ÂüéÂ∏ÇÂàóË°®ÔºàÂåÖÂê´ÂÖ®ÂõΩÁúÅ‰ºöÂüéÂ∏ÇÔºâ\n    this.defaultCities = [\n    // Áõ¥ËæñÂ∏Ç\n    {\n      id: '101010100',\n      name: 'Âåó‰∫¨'\n    }, {\n      id: '101020100',\n      name: '‰∏äÊµ∑'\n    }, {\n      id: '101030100',\n      name: 'Â§©Ê¥•'\n    }, {\n      id: '101040100',\n      name: 'ÈáçÂ∫Ü'\n    },\n    // ÁúÅ‰ºöÂüéÂ∏Ç\n    {\n      id: '101190101',\n      name: 'Âçó‰∫¨',\n      province: 'Ê±üËãè'\n    }, {\n      id: '101210101',\n      name: 'Êù≠Â∑û',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101280101',\n      name: 'ÂπøÂ∑û',\n      province: 'Âπø‰∏ú'\n    }, {\n      id: '101200101',\n      name: 'Ê≠¶Ê±â',\n      province: 'ÊπñÂåó'\n    }, {\n      id: '101180101',\n      name: 'ÈÉëÂ∑û',\n      province: 'Ê≤≥Âçó'\n    }, {\n      id: '101110101',\n      name: 'Ë•øÂÆâ',\n      province: 'ÈôïË•ø'\n    }, {\n      id: '101270101',\n      name: 'ÊàêÈÉΩ',\n      province: 'ÂõõÂ∑ù'\n    }, {\n      id: '101230101',\n      name: 'Á¶èÂ∑û',\n      province: 'Á¶èÂª∫'\n    }, {\n      id: '101220101',\n      name: 'ÂêàËÇ•',\n      province: 'ÂÆâÂæΩ'\n    }, {\n      id: '101240101',\n      name: 'ÂçóÊòå',\n      province: 'Ê±üË•ø'\n    }, {\n      id: '101250101',\n      name: 'ÈïøÊ≤ô',\n      province: 'ÊπñÂçó'\n    }, {\n      id: '101050101',\n      name: 'ÂìàÂ∞îÊª®',\n      province: 'ÈªëÈæôÊ±ü'\n    }, {\n      id: '101060101',\n      name: 'ÈïøÊò•',\n      province: 'ÂêâÊûó'\n    }, {\n      id: '101070101',\n      name: 'Ê≤àÈò≥',\n      province: 'ËæΩÂÆÅ'\n    }, {\n      id: '101100101',\n      name: 'Â§™Âéü',\n      province: 'Â±±Ë•ø'\n    }, {\n      id: '101090101',\n      name: 'Áü≥ÂÆ∂Â∫Ñ',\n      province: 'Ê≤≥Âåó'\n    }, {\n      id: '101120101',\n      name: 'ÊµéÂçó',\n      province: 'Â±±‰∏ú'\n    }, {\n      id: '101150101',\n      name: 'Ë•øÂÆÅ',\n      province: 'ÈùíÊµ∑'\n    }, {\n      id: '101160101',\n      name: 'ÂÖ∞Â∑û',\n      province: 'ÁîòËÇÉ'\n    }, {\n      id: '101170101',\n      name: 'Èì∂Â∑ù',\n      province: 'ÂÆÅÂ§è'\n    }, {\n      id: '101130101',\n      name: '‰πåÈ≤ÅÊú®ÈΩê',\n      province: 'Êñ∞ÁñÜ'\n    }, {\n      id: '101140101',\n      name: 'ÊãâËê®',\n      province: 'Ë•øËóè'\n    }, {\n      id: '101290101',\n      name: 'ÊòÜÊòé',\n      province: '‰∫ëÂçó'\n    }, {\n      id: '101300101',\n      name: 'ÂçóÂÆÅ',\n      province: 'ÂπøË•ø'\n    }, {\n      id: '101310101',\n      name: 'Êµ∑Âè£',\n      province: 'Êµ∑Âçó'\n    }, {\n      id: '101320101',\n      name: 'È¶ôÊ∏Ø'\n    }, {\n      id: '101330101',\n      name: 'Êæ≥Èó®'\n    },\n    // ÊµôÊ±üÁúÅ‰∏ªË¶ÅÂüéÂ∏Ç\n    {\n      id: '101210201',\n      name: 'ÊπñÂ∑û',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210301',\n      name: 'ÂòâÂÖ¥',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210401',\n      name: 'ÂÆÅÊ≥¢',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210501',\n      name: 'ÁªçÂÖ¥',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210601',\n      name: 'Âè∞Â∑û',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210701',\n      name: 'Ê∏©Â∑û',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210801',\n      name: '‰∏ΩÊ∞¥',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101210901',\n      name: 'ÈáëÂçé',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101211001',\n      name: 'Ë°¢Â∑û',\n      province: 'ÊµôÊ±ü'\n    }, {\n      id: '101211101',\n      name: 'ËàüÂ±±',\n      province: 'ÊµôÊ±ü'\n    }];\n    console.log('WeatherService initialized with API Host:', this.baseUrl);\n  }\n\n  // Ëé∑ÂèñÊåáÂÆöÂüéÂ∏ÇÁöÑÂ§©Ê∞î\n  async getCityWeather(cityName) {\n    try {\n      console.log('Ëé∑ÂèñÂüéÂ∏ÇÂ§©Ê∞î:', cityName);\n\n      // Ê£ÄÊü•ÁºìÂ≠ò\n      const cached = this.weatherCache.get(cityName);\n      if (cached && Date.now() - cached.timestamp < this.cacheExpiration) {\n        console.log('‰ΩøÁî®ÁºìÂ≠òÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', cached.data);\n        return cached.data;\n      }\n\n      // Êü•ÊâæÂüéÂ∏ÇID\n      const city = this.defaultCities.find(c => c.name === cityName);\n      if (!city) {\n        console.log('Êú™ÊâæÂà∞ÂüéÂ∏Ç:', cityName);\n        throw new Error(`Êä±Ê≠âÔºåÊöÇ‰∏çÊîØÊåÅÊü•ËØ¢${cityName}ÁöÑÂ§©Ê∞î`);\n      }\n\n      // ÊûÑÂª∫ËØ∑Ê±ÇURL\n      const url = `${this.baseUrl}/weather/now?location=${city.id}&key=${this.key}`;\n      console.log('ËØ∑Ê±ÇÂ§©Ê∞îURL:', url);\n      const weatherData = await this.fetchWeatherData(url);\n      weatherData.cityName = cityName; // Á°Æ‰øù‰ΩøÁî®ËØ∑Ê±ÇÊó∂ÁöÑÂüéÂ∏ÇÂêç\n\n      // Êõ¥Êñ∞ÁºìÂ≠ò\n      this.weatherCache.set(cityName, {\n        data: weatherData,\n        timestamp: Date.now()\n      });\n      return weatherData;\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂüéÂ∏ÇÂ§©Ê∞îÂ§±Ë¥•:', error);\n      throw error;\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÂ§©Ê∞î\n  async getLocationWeather() {\n    try {\n      console.log('Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÂ§©Ê∞î');\n      const position = await this.getCurrentPosition();\n      console.log('Ëé∑ÂèñÂà∞‰ΩçÁΩÆ:', position);\n\n      // ÊûÑÂª∫ËØ∑Ê±ÇURLÔºå‰ΩøÁî®ÁªèÁ∫¨Â∫¶\n      const url = `${this.baseUrl}/weather/now?location=${position.longitude},${position.latitude}&key=${this.key}`;\n      return await this.fetchWeatherData(url);\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÂ§©Ê∞îÂ§±Ë¥•:', error);\n      // ÈôçÁ∫ß‰ΩøÁî®ÈªòËÆ§ÂüéÂ∏Ç\n      return this.getCityWeather(this.defaultCities[0].name);\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\n  getCurrentPosition() {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('ÊµèËßàÂô®‰∏çÊîØÊåÅÂú∞ÁêÜÂÆö‰Ωç'));\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(position => {\n        resolve({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude\n        });\n      }, error => {\n        console.error('Âú∞ÁêÜÂÆö‰ΩçÂ§±Ë¥•:', error);\n        reject(error);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0\n      });\n    });\n  }\n\n  // Áªü‰∏ÄÁöÑÂ§©Ê∞îÊï∞ÊçÆËé∑ÂèñÊñπÊ≥ï\n  async fetchWeatherData(url) {\n    const response = await fetch(url, {\n      headers: {\n        'Accept': 'application/json',\n        'Accept-Encoding': 'gzip'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`Â§©Ê∞îAPIËØ∑Ê±ÇÂ§±Ë¥•: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log('APIËøîÂõûÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', data);\n    if (data.code === '200') {\n      const {\n        temp,\n        text,\n        icon\n      } = data.now;\n      const locationId = data.location?.id;\n      const city = this.defaultCities.find(c => c.id === locationId);\n      const weatherData = {\n        temperature: temp,\n        condition: this.getWeatherCondition(icon),\n        description: text,\n        cityName: city ? city.name : data.location?.name,\n        cityId: locationId,\n        updateTime: data.updateTime\n      };\n      console.log('Â§ÑÁêÜÂêéÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', weatherData);\n      return weatherData;\n    } else {\n      throw new Error(`Â§©Ê∞îAPIËøîÂõûÈîôËØØ: ${data.code}`);\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâçÂ§©Ê∞î\n  async getNowWeather() {\n    try {\n      // ‰ΩøÁî®ÈªòËÆ§ÂüéÂ∏ÇÔºàÂçó‰∫¨Ôºâ\n      const defaultCity = this.defaultCities[0];\n      console.log('‰ΩøÁî®ÈªòËÆ§ÂüéÂ∏Ç:', defaultCity.name);\n\n      // ÊûÑÂª∫ËØ∑Ê±ÇURL\n      const url = `${this.baseUrl}/weather/now?location=${defaultCity.id}&key=${this.key}`;\n      console.log('ËØ∑Ê±ÇÂ§©Ê∞îURL:', url);\n\n      // ÂèëÈÄÅËØ∑Ê±ÇÔºåÊ∑ªÂä†ÂøÖË¶ÅÁöÑËØ∑Ê±ÇÂ§¥\n      const weatherResponse = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Accept-Encoding': 'gzip'\n        }\n      });\n\n      // Ê£ÄÊü•HTTPÂìçÂ∫îÁä∂ÊÄÅ\n      console.log('ÂìçÂ∫îÁä∂ÊÄÅ:', weatherResponse.status);\n      if (!weatherResponse.ok) {\n        const responseText = await weatherResponse.text();\n        console.error('ÂìçÂ∫îÂÜÖÂÆπ:', responseText);\n        throw new Error(`HTTP error! status: ${weatherResponse.status}, response: ${responseText}`);\n      }\n\n      // Ëß£ÊûêJSONÂìçÂ∫î\n      const weatherData = await weatherResponse.json();\n      console.log('Â§©Ê∞î‰ø°ÊÅØÂìçÂ∫î:', JSON.stringify(weatherData, null, 2));\n\n      // Ê£ÄÊü•APIËøîÂõûÁ†Å\n      if (weatherData.code === '200') {\n        const {\n          temp,\n          text,\n          icon\n        } = weatherData.now;\n        console.log('Ëß£ÊûêÂà∞ÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', temp, text, icon);\n        return {\n          temperature: temp,\n          condition: this.getWeatherCondition(icon),\n          description: text,\n          cityName: defaultCity.name,\n          updateTime: weatherData.updateTime\n        };\n      } else {\n        console.error('Ëé∑ÂèñÂ§©Ê∞îÂ§±Ë¥•, ÈîôËØØÁ†Å:', weatherData.code);\n        return this.getDefaultWeather();\n      }\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂ§©Ê∞îÂá∫Èîô:', error);\n      return this.getDefaultWeather();\n    }\n  }\n\n  // ÁîüÊàêÂ§©Ê∞îÊèèËø∞\n  generateWeatherDescription(weather) {\n    if (!weather) {\n      console.error('Â§©Ê∞îÊï∞ÊçÆ‰∏∫Á©∫');\n      return 'Êä±Ê≠âÔºåÊöÇÊó∂Êó†Ê≥ïËé∑ÂèñÂ§©Ê∞î‰ø°ÊÅØ';\n    }\n    const {\n      temperature,\n      description,\n      cityName\n    } = weather;\n    console.log('ÁîüÊàêÂ§©Ê∞îÊèèËø∞Ôºå‰ΩøÁî®ÁöÑÊï∞ÊçÆ:', weather);\n    let suggestion = '';\n\n    // Ê†πÊçÆÊ∏©Â∫¶ÁªôÂá∫Âª∫ËÆÆ\n    const temp = parseInt(temperature);\n    if (temp < 10) {\n      suggestion = 'Â§©Ê∞îÊúâÁÇπÂÜ∑ÔºåË¶ÅÊ≥®ÊÑè‰øùÊöñÂì¶~ üß•';\n    } else if (temp > 30) {\n      suggestion = 'Â§©Ê∞îÊúâÁÇπÁÉ≠ÔºåËÆ∞ÂæóÈò≤ÊôíË°•Ê∞¥Âì¶~ üåû';\n    } else {\n      suggestion = 'Â§©Ê∞îÂæàËàíÈÄÇÔºåÈÄÇÂêàÂá∫Èó®Ê¥ªÂä®Âë¢~ üåà';\n    }\n\n    // Ê†πÊçÆÂ§©Ê∞îÁä∂ÂÜµÊ∑ªÂä†ÁâπÂÆöÂª∫ËÆÆ\n    if (description.includes('Èõ®')) {\n      suggestion += ' ËÆ∞ÂæóÂ∏¶‰ºûÔºÅ‚òî';\n    } else if (description.includes('Êô¥')) {\n      suggestion += ' Èò≤ÊôíË¶ÅÂÅöÂ•ΩÔºÅüß¥';\n    }\n    return `${cityName}Áé∞Âú®Ê∞îÊ∏©${temperature}¬∞CÔºå${description}„ÄÇ${suggestion}`;\n  }\n\n  // Ëé∑ÂèñÂ§©Ê∞îÁä∂ÂÜµ\n  getWeatherCondition(icon) {\n    const conditions = {\n      sunny: ['100', '101', '102', '103'],\n      cloudy: ['104', '150', '151', '152', '153'],\n      rainy: ['300', '301', '302', '303', '304', '305', '306', '307', '308', '309', '310', '311', '312', '313', '314', '315', '316', '317', '318', '399'],\n      snowy: ['400', '401', '402', '403', '404', '405', '406', '407', '408', '409', '410', '499'],\n      foggy: ['500', '501', '502', '503', '504', '507', '508', '509', '510', '511', '512', '513', '514', '515']\n    };\n    for (const [condition, icons] of Object.entries(conditions)) {\n      if (icons.includes(icon)) {\n        return condition;\n      }\n    }\n    return 'cloudy'; // ÈªòËÆ§ËøîÂõûÂ§ö‰∫ë\n  }\n\n  // Ëé∑ÂèñÈªòËÆ§Â§©Ê∞îÊï∞ÊçÆ\n  getDefaultWeather() {\n    const defaultCity = this.defaultCities[0];\n    return {\n      temperature: '25',\n      // Ê≥®ÊÑèËøôÈáåËøîÂõûÂ≠óÁ¨¶‰∏≤‰ª•‰øùÊåÅ‰∏ÄËá¥ÊÄß\n      condition: 'cloudy',\n      description: 'Â§ö‰∫ë',\n      cityName: defaultCity.name,\n      updateTime: new Date().toISOString()\n    };\n  }\n\n  // ÂàáÊç¢ÂüéÂ∏Ç\n  async switchCity(cityId) {\n    try {\n      console.log('ÂàáÊç¢ÂüéÂ∏Ç, ID:', cityId);\n\n      // ÊûÑÂª∫URL\n      const url = `${this.baseUrl}/weather/now?location=${cityId}&key=${this.key}`;\n      console.log('ÂàáÊç¢ÂüéÂ∏ÇËØ∑Ê±ÇURL:', url);\n\n      // ÂèëÈÄÅËØ∑Ê±Ç\n      const weatherResponse = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Accept-Encoding': 'gzip'\n        }\n      });\n\n      // Ê£ÄÊü•HTTPÂìçÂ∫îÁä∂ÊÄÅ\n      console.log('ÂìçÂ∫îÁä∂ÊÄÅ:', weatherResponse.status);\n      if (!weatherResponse.ok) {\n        const responseText = await weatherResponse.text();\n        console.error('ÂìçÂ∫îÂÜÖÂÆπ:', responseText);\n        throw new Error(`HTTP error! status: ${weatherResponse.status}, response: ${responseText}`);\n      }\n\n      // Ëß£ÊûêJSONÂìçÂ∫î\n      const weatherData = await weatherResponse.json();\n      console.log('ÂàáÊç¢ÂüéÂ∏ÇÂ§©Ê∞îÂìçÂ∫î:', JSON.stringify(weatherData, null, 2));\n\n      // Ê£ÄÊü•APIËøîÂõûÁ†Å\n      if (weatherData.code === '200') {\n        const {\n          temp,\n          text,\n          icon\n        } = weatherData.now;\n        console.log('Ëß£ÊûêÂà∞ÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', temp, text, icon);\n        const city = this.defaultCities.find(c => c.id === cityId) || {\n          name: 'Êú™Áü•ÂüéÂ∏Ç'\n        };\n        return {\n          temperature: temp,\n          condition: this.getWeatherCondition(icon),\n          description: text,\n          cityName: city.name,\n          updateTime: weatherData.updateTime\n        };\n      } else {\n        console.error('Ëé∑ÂèñÂ§©Ê∞îÂ§±Ë¥•, ÈîôËØØÁ†Å:', weatherData.code);\n        return this.getDefaultWeather();\n      }\n    } catch (error) {\n      console.error('ÂàáÊç¢ÂüéÂ∏ÇÂá∫Èîô:', error);\n      return this.getDefaultWeather();\n    }\n  }\n\n  // Ëß£ÊûêÂüéÂ∏ÇÂêçÁß∞\n  parseCityName(text) {\n    // Â§ÑÁêÜÁúÅ‰ªΩ\n    for (const city of this.defaultCities) {\n      if (city.province && text === city.province) {\n        return city; // ËøîÂõûËØ•ÁúÅÁöÑÁúÅ‰ºöÂüéÂ∏Ç\n      }\n    }\n\n    // Â§ÑÁêÜÂÖ∑‰ΩìÂüéÂ∏Ç\n    for (const city of this.defaultCities) {\n      if (text.includes(city.name)) {\n        return city;\n      }\n    }\n    return null;\n  }\n}\nexport default new WeatherService();","map":{"version":3,"names":["WeatherService","constructor","key","process","env","VUE_APP_WEATHER_KEY","baseUrl","VUE_APP_WEATHER_URL","weatherCache","Map","cacheExpiration","defaultCities","id","name","province","console","log","getCityWeather","cityName","cached","get","Date","now","timestamp","data","city","find","c","Error","url","weatherData","fetchWeatherData","set","error","getLocationWeather","position","getCurrentPosition","longitude","latitude","Promise","resolve","reject","navigator","geolocation","coords","enableHighAccuracy","timeout","maximumAge","response","fetch","headers","ok","status","json","code","temp","text","icon","locationId","location","temperature","condition","getWeatherCondition","description","cityId","updateTime","getNowWeather","defaultCity","weatherResponse","responseText","JSON","stringify","getDefaultWeather","generateWeatherDescription","weather","suggestion","parseInt","includes","conditions","sunny","cloudy","rainy","snowy","foggy","icons","Object","entries","toISOString","switchCity","parseCityName"],"sources":["E:/code/PersonalBolg1/frontend/src/services/weather.js"],"sourcesContent":["class WeatherService {\n  constructor() {\n    // ‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèÊàñÈªòËÆ§ÂÄº\n    this.key = process.env.VUE_APP_WEATHER_KEY || '20ad4f9133c94ac69f48192ef755f473';\n    this.baseUrl = process.env.VUE_APP_WEATHER_URL || 'https://kv436fwcq8.re.qweatherapi.com/v7';\n    \n    // ÂüéÂ∏ÇÁºìÂ≠òÔºåÊ†ºÂºè: { cityName: { data, timestamp } }\n    this.weatherCache = new Map();\n    // ÁºìÂ≠òÊúâÊïàÊúüÔºà5ÂàÜÈíüÔºâ\n    this.cacheExpiration = 5 * 60 * 1000;\n    \n    // ÈªòËÆ§ÂüéÂ∏ÇÂàóË°®ÔºàÂåÖÂê´ÂÖ®ÂõΩÁúÅ‰ºöÂüéÂ∏ÇÔºâ\n    this.defaultCities = [\n      // Áõ¥ËæñÂ∏Ç\n      { id: '101010100', name: 'Âåó‰∫¨' },\n      { id: '101020100', name: '‰∏äÊµ∑' },\n      { id: '101030100', name: 'Â§©Ê¥•' },\n      { id: '101040100', name: 'ÈáçÂ∫Ü' },\n      // ÁúÅ‰ºöÂüéÂ∏Ç\n      { id: '101190101', name: 'Âçó‰∫¨', province: 'Ê±üËãè' },\n      { id: '101210101', name: 'Êù≠Â∑û', province: 'ÊµôÊ±ü' },\n      { id: '101280101', name: 'ÂπøÂ∑û', province: 'Âπø‰∏ú' },\n      { id: '101200101', name: 'Ê≠¶Ê±â', province: 'ÊπñÂåó' },\n      { id: '101180101', name: 'ÈÉëÂ∑û', province: 'Ê≤≥Âçó' },\n      { id: '101110101', name: 'Ë•øÂÆâ', province: 'ÈôïË•ø' },\n      { id: '101270101', name: 'ÊàêÈÉΩ', province: 'ÂõõÂ∑ù' },\n      { id: '101230101', name: 'Á¶èÂ∑û', province: 'Á¶èÂª∫' },\n      { id: '101220101', name: 'ÂêàËÇ•', province: 'ÂÆâÂæΩ' },\n      { id: '101240101', name: 'ÂçóÊòå', province: 'Ê±üË•ø' },\n      { id: '101250101', name: 'ÈïøÊ≤ô', province: 'ÊπñÂçó' },\n      { id: '101050101', name: 'ÂìàÂ∞îÊª®', province: 'ÈªëÈæôÊ±ü' },\n      { id: '101060101', name: 'ÈïøÊò•', province: 'ÂêâÊûó' },\n      { id: '101070101', name: 'Ê≤àÈò≥', province: 'ËæΩÂÆÅ' },\n      { id: '101100101', name: 'Â§™Âéü', province: 'Â±±Ë•ø' },\n      { id: '101090101', name: 'Áü≥ÂÆ∂Â∫Ñ', province: 'Ê≤≥Âåó' },\n      { id: '101120101', name: 'ÊµéÂçó', province: 'Â±±‰∏ú' },\n      { id: '101150101', name: 'Ë•øÂÆÅ', province: 'ÈùíÊµ∑' },\n      { id: '101160101', name: 'ÂÖ∞Â∑û', province: 'ÁîòËÇÉ' },\n      { id: '101170101', name: 'Èì∂Â∑ù', province: 'ÂÆÅÂ§è' },\n      { id: '101130101', name: '‰πåÈ≤ÅÊú®ÈΩê', province: 'Êñ∞ÁñÜ' },\n      { id: '101140101', name: 'ÊãâËê®', province: 'Ë•øËóè' },\n      { id: '101290101', name: 'ÊòÜÊòé', province: '‰∫ëÂçó' },\n      { id: '101300101', name: 'ÂçóÂÆÅ', province: 'ÂπøË•ø' },\n      { id: '101310101', name: 'Êµ∑Âè£', province: 'Êµ∑Âçó' },\n      { id: '101320101', name: 'È¶ôÊ∏Ø' },\n      { id: '101330101', name: 'Êæ≥Èó®' },\n      // ÊµôÊ±üÁúÅ‰∏ªË¶ÅÂüéÂ∏Ç\n      { id: '101210201', name: 'ÊπñÂ∑û', province: 'ÊµôÊ±ü' },\n      { id: '101210301', name: 'ÂòâÂÖ¥', province: 'ÊµôÊ±ü' },\n      { id: '101210401', name: 'ÂÆÅÊ≥¢', province: 'ÊµôÊ±ü' },\n      { id: '101210501', name: 'ÁªçÂÖ¥', province: 'ÊµôÊ±ü' },\n      { id: '101210601', name: 'Âè∞Â∑û', province: 'ÊµôÊ±ü' },\n      { id: '101210701', name: 'Ê∏©Â∑û', province: 'ÊµôÊ±ü' },\n      { id: '101210801', name: '‰∏ΩÊ∞¥', province: 'ÊµôÊ±ü' },\n      { id: '101210901', name: 'ÈáëÂçé', province: 'ÊµôÊ±ü' },\n      { id: '101211001', name: 'Ë°¢Â∑û', province: 'ÊµôÊ±ü' },\n      { id: '101211101', name: 'ËàüÂ±±', province: 'ÊµôÊ±ü' }\n    ];\n\n    console.log('WeatherService initialized with API Host:', this.baseUrl);\n  }\n\n  // Ëé∑ÂèñÊåáÂÆöÂüéÂ∏ÇÁöÑÂ§©Ê∞î\n  async getCityWeather(cityName) {\n    try {\n      console.log('Ëé∑ÂèñÂüéÂ∏ÇÂ§©Ê∞î:', cityName);\n      \n      // Ê£ÄÊü•ÁºìÂ≠ò\n      const cached = this.weatherCache.get(cityName);\n      if (cached && Date.now() - cached.timestamp < this.cacheExpiration) {\n        console.log('‰ΩøÁî®ÁºìÂ≠òÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', cached.data);\n        return cached.data;\n      }\n\n      // Êü•ÊâæÂüéÂ∏ÇID\n      const city = this.defaultCities.find(c => c.name === cityName);\n      if (!city) {\n        console.log('Êú™ÊâæÂà∞ÂüéÂ∏Ç:', cityName);\n        throw new Error(`Êä±Ê≠âÔºåÊöÇ‰∏çÊîØÊåÅÊü•ËØ¢${cityName}ÁöÑÂ§©Ê∞î`);\n      }\n\n      // ÊûÑÂª∫ËØ∑Ê±ÇURL\n      const url = `${this.baseUrl}/weather/now?location=${city.id}&key=${this.key}`;\n      console.log('ËØ∑Ê±ÇÂ§©Ê∞îURL:', url);\n      \n      const weatherData = await this.fetchWeatherData(url);\n      weatherData.cityName = cityName; // Á°Æ‰øù‰ΩøÁî®ËØ∑Ê±ÇÊó∂ÁöÑÂüéÂ∏ÇÂêç\n      \n      // Êõ¥Êñ∞ÁºìÂ≠ò\n      this.weatherCache.set(cityName, {\n        data: weatherData,\n        timestamp: Date.now()\n      });\n\n      return weatherData;\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂüéÂ∏ÇÂ§©Ê∞îÂ§±Ë¥•:', error);\n      throw error;\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÂ§©Ê∞î\n  async getLocationWeather() {\n    try {\n      console.log('Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÂ§©Ê∞î');\n      \n      const position = await this.getCurrentPosition();\n      console.log('Ëé∑ÂèñÂà∞‰ΩçÁΩÆ:', position);\n\n      // ÊûÑÂª∫ËØ∑Ê±ÇURLÔºå‰ΩøÁî®ÁªèÁ∫¨Â∫¶\n      const url = `${this.baseUrl}/weather/now?location=${position.longitude},${position.latitude}&key=${this.key}`;\n      return await this.fetchWeatherData(url);\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆÂ§©Ê∞îÂ§±Ë¥•:', error);\n      // ÈôçÁ∫ß‰ΩøÁî®ÈªòËÆ§ÂüéÂ∏Ç\n      return this.getCityWeather(this.defaultCities[0].name);\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\n  getCurrentPosition() {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('ÊµèËßàÂô®‰∏çÊîØÊåÅÂú∞ÁêÜÂÆö‰Ωç'));\n        return;\n      }\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          resolve({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude\n          });\n        },\n        (error) => {\n          console.error('Âú∞ÁêÜÂÆö‰ΩçÂ§±Ë¥•:', error);\n          reject(error);\n        },\n        {\n          enableHighAccuracy: true,\n          timeout: 5000,\n          maximumAge: 0\n        }\n      );\n    });\n  }\n\n  // Áªü‰∏ÄÁöÑÂ§©Ê∞îÊï∞ÊçÆËé∑ÂèñÊñπÊ≥ï\n  async fetchWeatherData(url) {\n    const response = await fetch(url, {\n      headers: {\n        'Accept': 'application/json',\n        'Accept-Encoding': 'gzip'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`Â§©Ê∞îAPIËØ∑Ê±ÇÂ§±Ë¥•: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    console.log('APIËøîÂõûÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', data);\n    \n    if (data.code === '200') {\n      const { temp, text, icon } = data.now;\n      const locationId = data.location?.id;\n      const city = this.defaultCities.find(c => c.id === locationId);\n      \n      const weatherData = {\n        temperature: temp,\n        condition: this.getWeatherCondition(icon),\n        description: text,\n        cityName: city ? city.name : data.location?.name,\n        cityId: locationId,\n        updateTime: data.updateTime\n      };\n      \n      console.log('Â§ÑÁêÜÂêéÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', weatherData);\n      return weatherData;\n    } else {\n      throw new Error(`Â§©Ê∞îAPIËøîÂõûÈîôËØØ: ${data.code}`);\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâçÂ§©Ê∞î\n  async getNowWeather() {\n    try {\n      // ‰ΩøÁî®ÈªòËÆ§ÂüéÂ∏ÇÔºàÂçó‰∫¨Ôºâ\n      const defaultCity = this.defaultCities[0];\n      console.log('‰ΩøÁî®ÈªòËÆ§ÂüéÂ∏Ç:', defaultCity.name);\n\n      // ÊûÑÂª∫ËØ∑Ê±ÇURL\n      const url = `${this.baseUrl}/weather/now?location=${defaultCity.id}&key=${this.key}`;\n      console.log('ËØ∑Ê±ÇÂ§©Ê∞îURL:', url);\n      \n      // ÂèëÈÄÅËØ∑Ê±ÇÔºåÊ∑ªÂä†ÂøÖË¶ÅÁöÑËØ∑Ê±ÇÂ§¥\n      const weatherResponse = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Accept-Encoding': 'gzip'\n        }\n      });\n      \n      // Ê£ÄÊü•HTTPÂìçÂ∫îÁä∂ÊÄÅ\n      console.log('ÂìçÂ∫îÁä∂ÊÄÅ:', weatherResponse.status);\n      if (!weatherResponse.ok) {\n        const responseText = await weatherResponse.text();\n        console.error('ÂìçÂ∫îÂÜÖÂÆπ:', responseText);\n        throw new Error(`HTTP error! status: ${weatherResponse.status}, response: ${responseText}`);\n      }\n      \n      // Ëß£ÊûêJSONÂìçÂ∫î\n      const weatherData = await weatherResponse.json();\n      console.log('Â§©Ê∞î‰ø°ÊÅØÂìçÂ∫î:', JSON.stringify(weatherData, null, 2));\n\n      // Ê£ÄÊü•APIËøîÂõûÁ†Å\n      if (weatherData.code === '200') {\n        const { temp, text, icon } = weatherData.now;\n        console.log('Ëß£ÊûêÂà∞ÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', temp, text, icon);\n        return {\n          temperature: temp,\n          condition: this.getWeatherCondition(icon),\n          description: text,\n          cityName: defaultCity.name,\n          updateTime: weatherData.updateTime\n        };\n      } else {\n        console.error('Ëé∑ÂèñÂ§©Ê∞îÂ§±Ë¥•, ÈîôËØØÁ†Å:', weatherData.code);\n        return this.getDefaultWeather();\n      }\n    } catch (error) {\n      console.error('Ëé∑ÂèñÂ§©Ê∞îÂá∫Èîô:', error);\n      return this.getDefaultWeather();\n    }\n  }\n\n  // ÁîüÊàêÂ§©Ê∞îÊèèËø∞\n  generateWeatherDescription(weather) {\n    if (!weather) {\n      console.error('Â§©Ê∞îÊï∞ÊçÆ‰∏∫Á©∫');\n      return 'Êä±Ê≠âÔºåÊöÇÊó∂Êó†Ê≥ïËé∑ÂèñÂ§©Ê∞î‰ø°ÊÅØ';\n    }\n\n    const { temperature, description, cityName } = weather;\n    console.log('ÁîüÊàêÂ§©Ê∞îÊèèËø∞Ôºå‰ΩøÁî®ÁöÑÊï∞ÊçÆ:', weather);\n    \n    let suggestion = '';\n\n    // Ê†πÊçÆÊ∏©Â∫¶ÁªôÂá∫Âª∫ËÆÆ\n    const temp = parseInt(temperature);\n    if (temp < 10) {\n      suggestion = 'Â§©Ê∞îÊúâÁÇπÂÜ∑ÔºåË¶ÅÊ≥®ÊÑè‰øùÊöñÂì¶~ üß•';\n    } else if (temp > 30) {\n      suggestion = 'Â§©Ê∞îÊúâÁÇπÁÉ≠ÔºåËÆ∞ÂæóÈò≤ÊôíË°•Ê∞¥Âì¶~ üåû';\n    } else {\n      suggestion = 'Â§©Ê∞îÂæàËàíÈÄÇÔºåÈÄÇÂêàÂá∫Èó®Ê¥ªÂä®Âë¢~ üåà';\n    }\n\n    // Ê†πÊçÆÂ§©Ê∞îÁä∂ÂÜµÊ∑ªÂä†ÁâπÂÆöÂª∫ËÆÆ\n    if (description.includes('Èõ®')) {\n      suggestion += ' ËÆ∞ÂæóÂ∏¶‰ºûÔºÅ‚òî';\n    } else if (description.includes('Êô¥')) {\n      suggestion += ' Èò≤ÊôíË¶ÅÂÅöÂ•ΩÔºÅüß¥';\n    }\n\n    return `${cityName}Áé∞Âú®Ê∞îÊ∏©${temperature}¬∞CÔºå${description}„ÄÇ${suggestion}`;\n  }\n\n  // Ëé∑ÂèñÂ§©Ê∞îÁä∂ÂÜµ\n  getWeatherCondition(icon) {\n    const conditions = {\n      sunny: ['100', '101', '102', '103'],\n      cloudy: ['104', '150', '151', '152', '153'],\n      rainy: ['300', '301', '302', '303', '304', '305', '306', '307', '308', '309', '310', '311', '312', '313', '314', '315', '316', '317', '318', '399'],\n      snowy: ['400', '401', '402', '403', '404', '405', '406', '407', '408', '409', '410', '499'],\n      foggy: ['500', '501', '502', '503', '504', '507', '508', '509', '510', '511', '512', '513', '514', '515']\n    };\n\n    for (const [condition, icons] of Object.entries(conditions)) {\n      if (icons.includes(icon)) {\n        return condition;\n      }\n    }\n    return 'cloudy'; // ÈªòËÆ§ËøîÂõûÂ§ö‰∫ë\n  }\n\n  // Ëé∑ÂèñÈªòËÆ§Â§©Ê∞îÊï∞ÊçÆ\n  getDefaultWeather() {\n    const defaultCity = this.defaultCities[0];\n    return {\n      temperature: '25',  // Ê≥®ÊÑèËøôÈáåËøîÂõûÂ≠óÁ¨¶‰∏≤‰ª•‰øùÊåÅ‰∏ÄËá¥ÊÄß\n      condition: 'cloudy',\n      description: 'Â§ö‰∫ë',\n      cityName: defaultCity.name,\n      updateTime: new Date().toISOString()\n    };\n  }\n\n  // ÂàáÊç¢ÂüéÂ∏Ç\n  async switchCity(cityId) {\n    try {\n      console.log('ÂàáÊç¢ÂüéÂ∏Ç, ID:', cityId);\n      \n      // ÊûÑÂª∫URL\n      const url = `${this.baseUrl}/weather/now?location=${cityId}&key=${this.key}`;\n      console.log('ÂàáÊç¢ÂüéÂ∏ÇËØ∑Ê±ÇURL:', url);\n      \n      // ÂèëÈÄÅËØ∑Ê±Ç\n      const weatherResponse = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Accept-Encoding': 'gzip'\n        }\n      });\n      \n      // Ê£ÄÊü•HTTPÂìçÂ∫îÁä∂ÊÄÅ\n      console.log('ÂìçÂ∫îÁä∂ÊÄÅ:', weatherResponse.status);\n      if (!weatherResponse.ok) {\n        const responseText = await weatherResponse.text();\n        console.error('ÂìçÂ∫îÂÜÖÂÆπ:', responseText);\n        throw new Error(`HTTP error! status: ${weatherResponse.status}, response: ${responseText}`);\n      }\n      \n      // Ëß£ÊûêJSONÂìçÂ∫î\n      const weatherData = await weatherResponse.json();\n      console.log('ÂàáÊç¢ÂüéÂ∏ÇÂ§©Ê∞îÂìçÂ∫î:', JSON.stringify(weatherData, null, 2));\n\n      // Ê£ÄÊü•APIËøîÂõûÁ†Å\n      if (weatherData.code === '200') {\n        const { temp, text, icon } = weatherData.now;\n        console.log('Ëß£ÊûêÂà∞ÁöÑÂ§©Ê∞îÊï∞ÊçÆ:', temp, text, icon);\n        const city = this.defaultCities.find(c => c.id === cityId) || { name: 'Êú™Áü•ÂüéÂ∏Ç' };\n        return {\n          temperature: temp,\n          condition: this.getWeatherCondition(icon),\n          description: text,\n          cityName: city.name,\n          updateTime: weatherData.updateTime\n        };\n      } else {\n        console.error('Ëé∑ÂèñÂ§©Ê∞îÂ§±Ë¥•, ÈîôËØØÁ†Å:', weatherData.code);\n        return this.getDefaultWeather();\n      }\n    } catch (error) {\n      console.error('ÂàáÊç¢ÂüéÂ∏ÇÂá∫Èîô:', error);\n      return this.getDefaultWeather();\n    }\n  }\n\n  // Ëß£ÊûêÂüéÂ∏ÇÂêçÁß∞\n  parseCityName(text) {\n    // Â§ÑÁêÜÁúÅ‰ªΩ\n    for (const city of this.defaultCities) {\n      if (city.province && text === city.province) {\n        return city; // ËøîÂõûËØ•ÁúÅÁöÑÁúÅ‰ºöÂüéÂ∏Ç\n      }\n    }\n    \n    // Â§ÑÁêÜÂÖ∑‰ΩìÂüéÂ∏Ç\n    for (const city of this.defaultCities) {\n      if (text.includes(city.name)) {\n        return city;\n      }\n    }\n    return null;\n  }\n}\n\nexport default new WeatherService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}