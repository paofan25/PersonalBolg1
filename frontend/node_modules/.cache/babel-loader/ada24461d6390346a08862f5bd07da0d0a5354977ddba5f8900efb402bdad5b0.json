{"ast":null,"code":"class WeatherService {\n  constructor() {\n    this.apiKey = import.meta.env.VITE_APP_WEATHER_KEY;\n    this.baseUrl = 'https://devapi.qweather.com/v7';\n  }\n  async getNowWeather(location) {\n    try {\n      const response = await fetch(`${this.baseUrl}/weather/now?location=${location}&key=${this.apiKey}`);\n      const data = await response.json();\n      if (data.code === '200') {\n        return data.now;\n      } else {\n        console.error('获取天气失败:', data);\n        return null;\n      }\n    } catch (error) {\n      console.error('获取天气出错:', error);\n      return null;\n    }\n  }\n  generateWeatherDescription(weather) {\n    const temp = parseInt(weather.temp);\n    const text = weather.text;\n    const feelsLike = parseInt(weather.feelsLike);\n    let description = `现在的天气是${text}，气温${temp}度`;\n    if (Math.abs(temp - feelsLike) >= 3) {\n      description += `，体感温度${feelsLike}度`;\n    }\n\n    // 根据天气情况添加建议\n    if (temp <= 10) {\n      description += '，要注意保暖哦！(｡•́︿•̀｡)';\n    } else if (temp >= 30) {\n      description += '，要注意防暑降温呢！(；′⌒`)';\n    } else {\n      description += '，是很舒适的温度呢！(◕‿◕✿)';\n    }\n    if (text.includes('雨')) {\n      description += ' 记得带伞出门哦！☔';\n    } else if (text.includes('晴')) {\n      description += ' 阳光明媚的好天气呢！☀️';\n    }\n    return description;\n  }\n}\nexport default new WeatherService();","map":{"version":3,"names":["WeatherService","constructor","apiKey","import","meta","env","VITE_APP_WEATHER_KEY","baseUrl","getNowWeather","location","response","fetch","data","json","code","now","console","error","generateWeatherDescription","weather","temp","parseInt","text","feelsLike","description","Math","abs","includes"],"sources":["E:/code/PersonalBolg1/frontend/src/services/weather.js"],"sourcesContent":["class WeatherService {\n  constructor() {\n    this.apiKey = import.meta.env.VITE_APP_WEATHER_KEY;\n    this.baseUrl = 'https://devapi.qweather.com/v7';\n  }\n\n  async getNowWeather(location) {\n    try {\n      const response = await fetch(`${this.baseUrl}/weather/now?location=${location}&key=${this.apiKey}`);\n      const data = await response.json();\n      \n      if (data.code === '200') {\n        return data.now;\n      } else {\n        console.error('获取天气失败:', data);\n        return null;\n      }\n    } catch (error) {\n      console.error('获取天气出错:', error);\n      return null;\n    }\n  }\n\n  generateWeatherDescription(weather) {\n    const temp = parseInt(weather.temp);\n    const text = weather.text;\n    const feelsLike = parseInt(weather.feelsLike);\n    \n    let description = `现在的天气是${text}，气温${temp}度`;\n    \n    if (Math.abs(temp - feelsLike) >= 3) {\n      description += `，体感温度${feelsLike}度`;\n    }\n    \n    // 根据天气情况添加建议\n    if (temp <= 10) {\n      description += '，要注意保暖哦！(｡•́︿•̀｡)';\n    } else if (temp >= 30) {\n      description += '，要注意防暑降温呢！(；′⌒`)';\n    } else {\n      description += '，是很舒适的温度呢！(◕‿◕✿)';\n    }\n\n    if (text.includes('雨')) {\n      description += ' 记得带伞出门哦！☔';\n    } else if (text.includes('晴')) {\n      description += ' 阳光明媚的好天气呢！☀️';\n    }\n\n    return description;\n  }\n}\n\nexport default new WeatherService();"],"mappings":"AAAA,MAAMA,cAAc,CAAC;EACnBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,MAAM,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,oBAAoB;IAClD,IAAI,CAACC,OAAO,GAAG,gCAAgC;EACjD;EAEA,MAAMC,aAAaA,CAACC,QAAQ,EAAE;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAG,IAAI,CAACJ,OAAO,yBAAyBE,QAAQ,QAAQ,IAAI,CAACP,MAAM,EAAE,CAAC;MACnG,MAAMU,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAID,IAAI,CAACE,IAAI,KAAK,KAAK,EAAE;QACvB,OAAOF,IAAI,CAACG,GAAG;MACjB,CAAC,MAAM;QACLC,OAAO,CAACC,KAAK,CAAC,SAAS,EAAEL,IAAI,CAAC;QAC9B,OAAO,IAAI;MACb;IACF,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MAC/B,OAAO,IAAI;IACb;EACF;EAEAC,0BAA0BA,CAACC,OAAO,EAAE;IAClC,MAAMC,IAAI,GAAGC,QAAQ,CAACF,OAAO,CAACC,IAAI,CAAC;IACnC,MAAME,IAAI,GAAGH,OAAO,CAACG,IAAI;IACzB,MAAMC,SAAS,GAAGF,QAAQ,CAACF,OAAO,CAACI,SAAS,CAAC;IAE7C,IAAIC,WAAW,GAAG,SAASF,IAAI,MAAMF,IAAI,GAAG;IAE5C,IAAIK,IAAI,CAACC,GAAG,CAACN,IAAI,GAAGG,SAAS,CAAC,IAAI,CAAC,EAAE;MACnCC,WAAW,IAAI,QAAQD,SAAS,GAAG;IACrC;;IAEA;IACA,IAAIH,IAAI,IAAI,EAAE,EAAE;MACdI,WAAW,IAAI,mBAAmB;IACpC,CAAC,MAAM,IAAIJ,IAAI,IAAI,EAAE,EAAE;MACrBI,WAAW,IAAI,kBAAkB;IACnC,CAAC,MAAM;MACLA,WAAW,IAAI,kBAAkB;IACnC;IAEA,IAAIF,IAAI,CAACK,QAAQ,CAAC,GAAG,CAAC,EAAE;MACtBH,WAAW,IAAI,YAAY;IAC7B,CAAC,MAAM,IAAIF,IAAI,CAACK,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC7BH,WAAW,IAAI,eAAe;IAChC;IAEA,OAAOA,WAAW;EACpB;AACF;AAEA,eAAe,IAAIxB,cAAc,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}